<!DOCTYPE html>
<html lang="es-CL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 5: Modelos Predictivos: Clasificación</title>
    <style>
        :root {
            --utem-blue: #002b5c; --utem-blue-light: #0077cc; --text-dark: #2d3748; --text-light: #ffffff;
            --bg-light: #f7fafc; --bg-dark: #1a202c; --surface-light: #ffffff; --surface-dark: #2d3748;
            --highlight-bg: #ebf8ff; --highlight-border: #90cdf4; --highlight-text: #3182ce;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05); --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
            --border-radius-md: 10px; --border-radius-lg: 16px;
            --font-family-main: "Century Gothic", "Apple Gothic", "URW Gothic L", sans-serif;
            --transition-fast: all 0.3s ease-in-out; --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --text-dark: #e2e8f0; --bg-light: var(--bg-dark); --surface-light: var(--surface-dark);
                --border-color-light: var(--border-color-dark); --highlight-bg: #1e3a8a; --highlight-border: #60a5fa;
                --highlight-text: #bfdbfe;
            }
        }
        body { font-family: var(--font-family-main); background-color: var(--bg-light); color: var(--text-dark); margin: 0; padding-top: 80px; padding-bottom: 60px; line-height: 1.6; overflow: hidden; }
        header { background-color: rgba(0, 43, 92, 0.95); backdrop-filter: blur(8px); color: var(--text-light); padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow-md); position: fixed; top: 0; width: 100%; z-index: 1001; box-sizing: border-box; height: 80px; }
        .logo { height: 50px; width: auto; }
        .header-text-container { text-align: right; }
        .header-title-main { font-size: 1.3em; font-weight: 600; margin: 0; }
        .header-subtitle-main { font-size: 0.8em; margin: 2px 0; color: #e0e0e0; font-weight: 300; }
        .contact-info-header { margin-top: 4px; font-size: 0.8em; color: #ced4da; }
        .contact-info-header a { color: #e9ecef; text-decoration: none; }
        footer { background-color: rgba(0, 43, 92, 0.95); color: var(--text-light); text-align: center; padding: 12px; position: fixed; width: 100%; bottom: 0; z-index: 1001; font-size: 0.85em; height: 60px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; backdrop-filter: blur(8px); border-top: 1px solid rgba(255, 255, 255, 0.1); }
        footer p { margin: 2px 0; }
        main#slider { width: 100%; height: calc(100vh - 140px); position: relative; overflow: hidden; }
        .slides-container { display: flex; height: 100%; width: 100%; transition: var(--transition-slow); }

        .slide {
            width: 100%; height: 100%; flex-shrink: 0; box-sizing: border-box; padding: 2rem;
            display: flex; justify-content: center; align-items: center;
        }
        .slide-content {
            background-color: var(--surface-light); border: 1px solid var(--border-color-light);
            border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);
            padding: 2rem 2.5rem; max-width: 950px; width: 90%; max-height: 95%; overflow-y: auto;
            opacity: 0; transform: scale(0.98); transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .slide.active .slide-content {
            opacity: 1; transform: scale(1);
        }
        .slide-content h2 { font-size: 2em; font-weight: 600; color: var(--utem-blue); margin-top: 0; border-bottom: 2px solid var(--utem-blue); padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
        .slide-content h3 { font-size: 1.3em; font-weight: 600; color: var(--utem-blue-light); margin-top: 2rem; margin-bottom: 1rem; }
        .slide-content p { margin-bottom: 1.2rem; line-height: 1.7; text-align: justify; }
        .slide-content strong { color: var(--utem-blue); font-weight: 600; }
        .slide-content ul { list-style-type: disc; padding-left: 25px; }
        .slide-content li { margin-bottom: 0.8rem; }
        .code-box { background-color: #2d3748; color: #f7fafc; padding: 1rem; border-radius: var(--border-radius-md); font-family: 'Courier New', Courier, monospace; margin: 1rem 0; font-size: 0.9em; white-space: pre-wrap; word-break: break-all; }
        .example-box { background-color: var(--highlight-bg); border: 1px solid var(--highlight-border); border-left: 5px solid var(--highlight-border); padding: 1.5rem; border-radius: var(--border-radius-md); margin-top: 1rem; }
        .example-box-title { font-weight: bold; color: var(--highlight-text); margin-bottom: 0.5rem; display: block; }

        @media (prefers-color-scheme: dark) {
            .slide-content h2 { color: var(--utem-blue-light); border-bottom-color: var(--utem-blue-light); }
            .slide-content strong { color: var(--utem-blue-light); }
        }

        .nav-button { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 43, 92, 0.6); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 100; display: flex; align-items: center; justify-content: center; transition: var(--transition-fast); }
        .nav-button:hover { background-color: var(--utem-blue); transform: translateY(-50%) scale(1.1); }
        .nav-button:disabled { background-color: #9ca3af; cursor: not-allowed; opacity: 0.5; }
        #prevBtn { left: 1rem; }
        #nextBtn { right: 1rem; }

        @media (max-width: 900px) {
            body { padding-top: 70px; }
            header { height: 70px; padding: 5px 15px; flex-direction: row-reverse; }
            .logo { height: 40px; }
            main#slider { height: calc(100vh - 130px); }
            .slide { padding: 1rem; }
            .slide-content { padding: 1.5rem; max-width: 100%; width: 100%; }
            .slide-content h2 { font-size: 1.5em; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-text-container">
            <h1 class="header-title-main">Fundamentos de Data Science</h1>
            <p class="header-subtitle-main">Planificación Semestral 2025</p>
            <div class="contact-info-header">
                <span>Carlos Muñoz S. - </span><a href="mailto:c.munozs@utem.cl">c.munozs@utem.cl</a>
            </div>
        </div>
        <img src="https://cdn.remotexs.co/institute-logos/sibutemnewlogo1.png" alt="Logo UTEM" class="logo" onerror="this.style.display='none'">
    </header>
    <main id="slider">
        <div class="slides-container"></div>
        <button id="prevBtn" class="nav-button" title="Anterior"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg> </button>
        <button id="nextBtn" class="nav-button" title="Siguiente"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg> </button>
    </main>
    <footer>
        <p>&copy; 2025 Universidad Tecnológica Metropolitana</p>
        <p>Departamento de Informática y Computación</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {

        // ==========================================================================
        // CONTENIDO EXCLUSIVO PARA LA SEMANA 5
        // ==========================================================================
        const week_slides_data = [
            { // Slide 1
                title: "Semana 5: Modelos Predictivos: Clasificación 🎯",
                content: `
                    <h3>Prediciendo Categorías en Vez de Números</h3>
                    <p>¡Bienvenidos a la Semana 5! La semana pasada aprendimos a predecir un valor numérico con la regresión. Hoy, nos enfrentamos a la otra gran tarea del aprendizaje supervisado: la <strong>Clasificación</strong>.</p>
                    <p>El objetivo de la clasificación es predecir una <strong>etiqueta o categoría</strong> discreta. Responderemos preguntas de "sí/no", o "¿a qué grupo pertenece?". Estudiaremos dos modelos fundamentales, <strong>Regresión Logística</strong> y <strong>K-NN</strong>, y aprenderemos a evaluarlos correctamente.</p>
                `
            },
            { // Slide 2
                title: "El Problema de la Clasificación",
                content: `
                    <p>La clasificación busca asignar una categoría a un elemento basándose en sus características.</p>
                    <div class="example-box">
                        <span class="example-box-title">Ejemplo Realidad Chilena 2025: Fuga de Clientes en Telecomunicaciones</span>
                        <p>Una empresa como Entel o WOM quiere anticiparse a los clientes que van a cancelar su plan (un problema conocido como <strong>"churn"</strong>).</p>
                        <ul>
                            <li><strong>Pregunta:</strong> ¿Este cliente cancelará su plan en los próximos 3 meses?</li>
                            <li><strong>Features (X):</strong> Antigüedad del cliente, plan contratado, reclamos realizados, consumo de datos.</li>
                            <li><strong>Etiquetas a predecir (y):</strong> <code>'Sí Cancelará'</code> o <code>'No Cancelará'</code>.</li>
                        </ul>
                        <p>Un modelo de clasificación preciso permite a la empresa tomar acciones preventivas, como ofrecer descuentos a los clientes en riesgo.</p>
                    </div>
                `
            },
            { // Slide 3
                title: "Modelo 1: Regresión Logística",
                content: `
                    <p>A pesar de su nombre, la Regresión Logística es el modelo de <strong>clasificación</strong> más fundamental. Es ideal para problemas de clasificación binaria (dos categorías).</p>
                    <p><strong>¿Cómo funciona?</strong> No predice la clase directamente, sino que calcula la <strong>probabilidad</strong> de que un elemento pertenezca a la clase "positiva" (ej. 'Sí Cancelará').</p>
                    <p>Utiliza la función logística (o sigmoide) para transformar cualquier resultado numérico en una probabilidad entre 0 y 1. Luego, aplicamos un umbral (generalmente 0.5): si la probabilidad es mayor a 0.5, clasificamos como "Sí"; si no, como "No".</p>
                `
            },
            { // Slide 4
                title: "Modelo 2: K-Vecinos Más Cercanos (K-NN)",
                content: `
                    <p>K-NN es uno de los algoritmos más intuitivos del Machine Learning. Su principio es "dime con quién andas y te diré quién eres".</p>
                    <p><strong>¿Cómo funciona?</strong> Para clasificar un nuevo punto, el algoritmo mira a sus 'K' vecinos más cercanos en los datos de entrenamiento y le asigna la clase que sea mayoritaria entre ellos.</p>
                    <div class="example-box">
                        <span class="example-box-title">Ejemplo Realidad Chilena 2025: Detección de Transacciones Fraudulentas</span>
                        <p>Una red como Transbank quiere clasificar una nueva transacción como <code>'Fraude'</code> o <code>'Legítima'</code>.</p>
                        <p>Para una nueva compra, el K-NN busca las 5 transacciones más similares (mismo monto, comercio, hora) en su historial. Si 4 de esas 5 transacciones similares fueron fraudes confirmados, el modelo clasificará la nueva transacción como <code>'Fraude'</code> y podría solicitar una validación extra al usuario.</p>
                    </div>
                `
            },
            { // Slide 5
                title: "La Trampa de la Exactitud (Accuracy)",
                content: `
                    <p>La primera métrica que se nos ocurre para evaluar un modelo es la <strong>exactitud</strong> (porcentaje de predicciones correctas). Sin embargo, puede ser muy engañosa, especialmente con datos desbalanceados.</p>
                    <div class="example-box">
                        <span class="example-box-title">Ejemplo Didáctico: Detección de Fraude</span>
                        <p>Imaginemos que solo el 0.1% de las transacciones son fraudulentas. Si creamos un modelo "inútil" que siempre predice <strong>"No es Fraude"</strong>, su exactitud será del 99.9%. ¡Parecería un modelo perfecto, pero no sirve para nada porque nunca detecta lo que nos interesa!</p>
                        <p>Por esto, necesitamos métricas más sofisticadas que nos cuenten la historia completa.</p>
                    </div>
                `
            },
            { // Slide 6
                title: "La Matriz de Confusión",
                content: `
                    <p>Es la base para entender el rendimiento de un modelo de clasificación. Es una tabla que compara las clases reales con las clases predichas por el modelo.</p>
                    
                    <p>Nos permite ver los cuatro posibles resultados:</p>
                    <ul>
                        <li><strong>Verdaderos Positivos (VP):</strong> El modelo predijo 'Fraude' y era 'Fraude'. <strong>(Acierto)</strong></li>
                        <li><strong>Verdaderos Negativos (VN):</strong> El modelo predijo 'Legítima' y era 'Legítima'. <strong>(Acierto)</strong></li>
                        <li><strong>Falsos Positivos (FP):</strong> El modelo predijo 'Fraude' pero era 'Legítima'. <strong>(Error Tipo I: Falsa Alarma)</strong></li>
                        <li><strong>Falsos Negativos (FN):</strong> El modelo predijo 'Legítima' pero era 'Fraude'. <strong>(Error Tipo II: El Peor Error)</strong></li>
                    </ul>
                `
            },
             { // Slide 7
                title: "Métrica Clave: Precisión (Precision)",
                content: `
                    <p>La precisión responde a la pregunta: <strong>De todos los que clasificamos como 'Positivo', ¿cuántos eran realmente positivos?</strong></p>
                    <h3>Fórmula: <code>VP / (VP + FP)</code></h3>
                    <div class="example-box">
                        <span class="example-box-title">Ejemplo Didáctico: Marketing por Email</span>
                        <p>Una tienda de retail chilena (ej. Falabella) crea un modelo para predecir qué clientes comprarán un producto si se les envía un cupón de descuento.</p>
                        <p>Una <strong>alta precisión</strong> es clave aquí. Significa que de todos los clientes a los que el modelo sugiere enviarles el cupón, la gran mayoría realmente comprará. Se busca minimizar el costo de enviar cupones a gente que no los usará (minimizar Falsos Positivos).</p>
                    </div>
                `
            },
            { // Slide 8
                title: "Métrica Clave: Recall (Sensibilidad)",
                content: `
                    <p>El recall (o sensibilidad) responde a la pregunta: <strong>De todos los 'Positivos' reales que había en los datos, ¿cuántos fuimos capaces de encontrar?</strong></p>
                    <h3>Fórmula: <code>VP / (VP + FN)</code></h3>
                    <div class="example-box">
                        <span class="example-box-title">Ejemplo Didáctico: Diagnóstico Médico</span>
                        <p>Un modelo de IA en una clínica chilena busca detectar si una imagen médica muestra signos de una enfermedad grave.</p>
                        <p>Un <strong>alto recall</strong> es absolutamente crítico. Significa que el modelo es capaz de encontrar a casi todos los pacientes que realmente tienen la enfermedad. Es preferible tener algunas falsas alarmas (baja precisión) que dejar pasar un caso real sin detectar (minimizar Falsos Negativos).</p>
                    </div>
                `
            },
            { // Slide 9
                title: "El Balance: Precisión vs. Recall",
                content: `
                    <p>Rara vez podemos maximizar ambas métricas a la vez. Generalmente, mejorar una implica empeorar la otra. La decisión de cuál priorizar depende del <strong>contexto del problema de negocio</strong>.</p>
                    <ul>
                        <li><strong>Priorizar Precisión:</strong> Cuando el costo de un Falso Positivo es alto. (Ej: Enviar una oferta muy cara, acusar a alguien de fraude).</li>
                        <li><strong>Priorizar Recall:</strong> Cuando el costo de un Falso Negativo es alto. (Ej: No detectar una enfermedad, no detectar una transacción fraudulenta, no detectar una falla crítica en una máquina).</li>
                    </ul>
                    <p>Como científicos de datos, nuestro trabajo no es solo construir el modelo, sino entender el problema para elegir la métrica de evaluación correcta.</p>
                `
            },
            { // Slide 10
                title: "Resumen y Próximos Pasos",
                content: `
                    <h3>Resumen de la Semana 5</h3>
                    <ul>
                        <li>La <strong>Clasificación</strong> predice etiquetas o categorías discretas.</li>
                        <li>Hemos estudiado dos modelos: <strong>Regresión Logística</strong> (basado en probabilidad) y <strong>K-NN</strong> (basado en vecinos).</li>
                        <li>La exactitud no es suficiente; usamos la <strong>Matriz de Confusión</strong> para calcular <strong>Precisión</strong> y <strong>Recall</strong>.</li>
                        <li>La elección de la métrica correcta depende del costo de los errores en el contexto del problema.</li>
                    </ul>
                    <h3>Próxima Semana: Árboles de Decisión y Regularización</h3>
                    <p>Según el programa, la próxima semana exploraremos una familia de modelos muy potente e interpretable, los <strong>Árboles de Decisión</strong>, y aprenderemos técnicas para evitar que nuestros modelos se sobreajusten a los datos.</p>
                `
            }
        ];

        // ==========================================================================
        // LÓGICA DEL SLIDER Y RENDERIZADO (CORREGIDO)
        // ==========================================================================
        function createContentSlide(slideData) {
            const slide = document.createElement('div');
            slide.className = 'slide';
            slide.innerHTML = `
                <div class="slide-content">
                    <h2>${slideData.title}</h2>
                    ${slideData.content}
                </div>
            `;
            return slide;
        }

        function initializeSlider() {
            const slidesContainer = document.querySelector('.slides-container');
            const prevBtn = document.getElementById('prevBtn'), nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;

            slidesContainer.innerHTML = '';

            week_slides_data.forEach(data => {
                slidesContainer.appendChild(createContentSlide(data));
            });
            
            const slides = document.querySelectorAll('.slide');
            
            const goToSlide = (index) => {
                slidesContainer.style.transform = `translateX(-${index * 100}%)`;
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlide = index;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === slides.length - 1;
            }
            
            prevBtn.addEventListener('click', () => { if (currentSlide > 0) goToSlide(currentSlide - 1); });
            nextBtn.addEventListener('click', () => { if (currentSlide < slides.length - 1) goToSlide(currentSlide + 1); });
            
            if (slides.length > 0) {
                 goToSlide(0);
            }
        }

        initializeSlider();
    });
    </script>
</body>
</html>