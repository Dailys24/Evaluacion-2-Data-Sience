<!DOCTYPE html>
<html lang="es-CL">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 6: Árboles de Decisión y Regularización</title>
    <style>
        :root {
            --utem-blue: #002b5c; --utem-blue-light: #0077cc; --text-dark: #2d3748; --text-light: #ffffff;
            --bg-light: #f7fafc; --bg-dark: #1a202c; --surface-light: #ffffff; --surface-dark: #2d3748;
            --highlight-bg: #ebf8ff; --highlight-border: #90cdf4; --highlight-text: #3182ce;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05); --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.08);
            --border-radius-md: 10px; --border-radius-lg: 16px;
            --font-family-main: "Century Gothic", "Apple Gothic", "URW Gothic L", sans-serif;
            --transition-fast: all 0.3s ease-in-out; --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --text-dark: #e2e8f0; --bg-light: var(--bg-dark); --surface-light: var(--surface-dark);
                --border-color-light: var(--border-color-dark); --highlight-bg: #1e3a8a; --highlight-border: #60a5fa;
                --highlight-text: #bfdbfe;
            }
        }
        body { font-family: var(--font-family-main); background-color: var(--bg-light); color: var(--text-dark); margin: 0; padding-top: 80px; padding-bottom: 60px; line-height: 1.6; overflow: hidden; }
        header { background-color: rgba(0, 43, 92, 0.95); backdrop-filter: blur(8px); color: var(--text-light); padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow-md); position: fixed; top: 0; width: 100%; z-index: 1001; box-sizing: border-box; height: 80px; }
        .logo { height: 50px; width: auto; }
        .header-text-container { text-align: right; }
        .header-title-main { font-size: 1.3em; font-weight: 600; margin: 0; }
        .header-subtitle-main { font-size: 0.8em; margin: 2px 0; color: #e0e0e0; font-weight: 300; }
        .contact-info-header { margin-top: 4px; font-size: 0.8em; color: #ced4da; }
        .contact-info-header a { color: #e9ecef; text-decoration: none; }
        footer { background-color: rgba(0, 43, 92, 0.95); color: var(--text-light); text-align: center; padding: 12px; position: fixed; width: 100%; bottom: 0; z-index: 1001; font-size: 0.85em; height: 60px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; backdrop-filter: blur(8px); border-top: 1px solid rgba(255, 255, 255, 0.1); }
        footer p { margin: 2px 0; }
        main#slider { width: 100%; height: calc(100vh - 140px); position: relative; overflow: hidden; }
        .slides-container { display: flex; height: 100%; width: 100%; transition: var(--transition-slow); }

        .slide {
            width: 100%; height: 100%; flex-shrink: 0; box-sizing: border-box; padding: 2rem;
            display: flex; justify-content: center; align-items: center;
        }
        .slide-content {
            background-color: var(--surface-light); border: 1px solid var(--border-color-light);
            border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md);
            padding: 2rem 2.5rem; max-width: 950px; width: 90%; max-height: 95%; overflow-y: auto;
            opacity: 0; transform: scale(0.98); transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        .slide.active .slide-content {
            opacity: 1; transform: scale(1);
        }
        .slide-content h2 { font-size: 2em; font-weight: 600; color: var(--utem-blue); margin-top: 0; border-bottom: 2px solid var(--utem-blue); padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
        .slide-content h3 { font-size: 1.3em; font-weight: 600; color: var(--utem-blue-light); margin-top: 2rem; margin-bottom: 1rem; }
        .slide-content p { margin-bottom: 1.2rem; line-height: 1.7; text-align: justify; }
        .slide-content strong { color: var(--utem-blue); font-weight: 600; }
        .slide-content ul { list-style-type: disc; padding-left: 25px; }
        .slide-content li { margin-bottom: 0.8rem; }
        .code-box { background-color: #2d3748; color: #f7fafc; padding: 1rem; border-radius: var(--border-radius-md); font-family: 'Courier New', Courier, monospace; margin: 1rem 0; font-size: 0.9em; white-space: pre-wrap; word-break: break-all; }
        .example-box { background-color: var(--highlight-bg); border: 1px solid var(--highlight-border); border-left: 5px solid var(--highlight-border); padding: 1.5rem; border-radius: var(--border-radius-md); margin-top: 1rem; }
        .example-box-title { font-weight: bold; color: var(--highlight-text); margin-bottom: 0.5rem; display: block; }

        @media (prefers-color-scheme: dark) {
            .slide-content h2 { color: var(--utem-blue-light); border-bottom-color: var(--utem-blue-light); }
            .slide-content strong { color: var(--utem-blue-light); }
        }

        .nav-button { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 43, 92, 0.6); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 100; display: flex; align-items: center; justify-content: center; transition: var(--transition-fast); }
        .nav-button:hover { background-color: var(--utem-blue); transform: translateY(-50%) scale(1.1); }
        .nav-button:disabled { background-color: #9ca3af; cursor: not-allowed; opacity: 0.5; }
        #prevBtn { left: 1rem; }
        #nextBtn { right: 1rem; }

        @media (max-width: 900px) {
            body { padding-top: 70px; }
            header { height: 70px; padding: 5px 15px; flex-direction: row-reverse; }
            .logo { height: 40px; }
            main#slider { height: calc(100vh - 130px); }
            .slide { padding: 1rem; }
            .slide-content { padding: 1.5rem; max-width: 100%; width: 100%; }
            .slide-content h2 { font-size: 1.5em; }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-text-container">
            <h1 class="header-title-main">Fundamentos de Data Science</h1>
            <p class="header-subtitle-main">Planificación Semestral 2025</p>
            <div class="contact-info-header">
                <span>Carlos Muñoz S. - </span><a href="mailto:c.munozs@utem.cl">c.munozs@utem.cl</a>
            </div>
        </div>
        <img src="https://cdn.remotexs.co/institute-logos/sibutemnewlogo1.png" alt="Logo UTEM" class="logo" onerror="this.style.display='none'">
    </header>
    <main id="slider">
        <div class="slides-container"></div>
        <button id="prevBtn" class="nav-button" title="Anterior"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg> </button>
        <button id="nextBtn" class="nav-button" title="Siguiente"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg> </button>
    </main>
    <footer>
        <p>&copy; 2025 Universidad Tecnológica Metropolitana</p>
        <p>Departamento de Informática y Computación</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {

        // ==========================================================================
        // CONTENIDO EXCLUSIVO PARA LA SEMANA 6
        // ==========================================================================
        const week_slides_data = [
            { // Slide 1
                title: "Semana 6: Árboles de Decisión y Regularización 🌳",
                content: `
                    <h3>Modelos que Toman Decisiones como Humanos</h3>
                    <p>¡Bienvenidos a la Semana 6! Hoy exploraremos una de las familias de modelos más intuitivas y poderosas del Machine Learning: los <strong>modelos basados en árboles</strong>. A diferencia de los modelos que hemos visto, un árbol de decisión es un modelo de "caja blanca", fácil de interpretar.</p>
                    <p>También abordaremos uno de los problemas más importantes en nuestro campo: el <strong>sobreajuste (overfitting)</strong>, y cómo técnicas como la <strong>regularización</strong> y los modelos de <strong>ensamble (Random Forest)</strong> nos ayudan a combatirlo.</p>
                `
            },
            { // Slide 2
                title: "¿Qué es un Árbol de Decisión?",
                content: `
                    <p>Es un modelo de aprendizaje supervisado que predice un resultado haciendo una serie de preguntas simples de "sí/no" sobre los datos. El modelo aprende estas preguntas de forma automática para dividir los datos en grupos cada vez más puros.</p>
                    <div class="example-box">
                        <span class="example-box-title">Analogía: El Juego "Adivina Quién"</span>
                        <p>Un árbol de decisión funciona como ese juego. Comienzas con todos los personajes (tus datos) y haces preguntas para descartar opciones: "¿Usa lentes?", "¿Tiene el pelo rubio?". Cada pregunta te acerca a la respuesta final. El árbol aprende cuáles son las mejores preguntas para llegar a la respuesta más rápido.</p>
                    </div>
                    
                `
            },
            { // Slide 3
                title: "Anatomía de un Árbol",
                content: `
                    <p>Un árbol de decisión tiene una estructura simple y fácil de visualizar:</p>
                    <ul>
                        <li><strong>Nodo Raíz (Root Node):</strong> Es la primera pregunta del árbol, la que mejor divide a todos los datos.</li>
                        <li><strong>Nodo de Decisión:</strong> Un nodo intermedio que representa una pregunta sobre una de las variables.</li>
                        <li><strong>Ramas (Branches):</strong> Representan las respuestas a las preguntas (ej. "Sí" o "No").</li>
                        <li><strong>Hojas (Leaf Nodes):</strong> Son los nodos terminales del árbol. Contienen la predicción final (una clase o un valor).</li>
                    </ul>
                    <p>La "profundidad" (depth) de un árbol es el número máximo de preguntas que se hacen para llegar a una hoja.</p>
                `
            },
            { // Slide 4
                title: "El Gran Problema: Sobreajuste (Overfitting)",
                content: `
                    <p>El sobreajuste es quizás el problema más común en Machine Learning. Ocurre cuando un modelo aprende <strong>demasiado bien</strong> los datos de entrenamiento, capturando no solo los patrones reales, sino también el ruido y las casualidades.</p>
                    <div class="example-box">
                        <span class="example-box-title">Analogía: El Estudiante que Memoriza</span>
                        <p>Un estudiante que memoriza cada respuesta de cada guía de estudio (datos de entrenamiento) sacará un 7.0 en esas guías. Pero si en el examen final (datos nuevos) le cambian una sola palabra a una pregunta, no sabrá qué responder porque nunca aprendió el concepto, solo memorizó. <strong>Eso es overfitting.</strong></p>
                    </div>
                    <p>Un árbol de decisión muy profundo es un experto en memorizar, por lo que es muy propenso al sobreajuste.</p>
                `
            },
            { // Slide 5
                title: "Técnicas para Evitar el Sobreajuste: Regularización",
                content: `
                    <p>La <strong>regularización</strong> es el conjunto de técnicas que usamos para forzar a nuestro modelo a ser más simple y, por lo tanto, a generalizar mejor a datos nuevos.</p>
                    <p>En los árboles de decisión, la regularización se logra principalmente mediante la <strong>poda (pruning)</strong>, que es simplemente evitar que el árbol crezca demasiado.</p>
                    <h3>Técnicas Comunes de Poda:</h3>
                    <ul>
                        <li><strong>Profundidad Máxima (<code>max_depth</code>):</strong> Limitar el número de "preguntas" seguidas que el árbol puede hacer.</li>
                        <li><strong>Muestras Mínimas por Hoja (<code>min_samples_leaf</code>):</strong> Exigir que cada hoja final represente a un número mínimo de datos.</li>
                    </ul>
                    <p>Estos "hiperparámetros" nos ayudan a encontrar el balance entre un modelo muy simple (underfitting) y uno muy complejo (overfitting).</p>
                `
            },
            { // Slide 6
                title: "El Poder del Conjunto: Modelos de Ensamble",
                content: `
                    <p>¿Qué es mejor que un modelo? ¡Muchos modelos trabajando juntos! Los <strong>métodos de ensamble</strong> se basan en la idea de que combinar las predicciones de varios modelos (generalmente "débiles") da como resultado una predicción final mucho más robusta y precisa.</p>
                     <div class="example-box">
                        <span class="example-box-title">Analogía: La Sabiduría de la Multitud</span>
                        <p>Si le preguntas a un solo "experto" su opinión sobre un tema complejo, puedes obtener una buena respuesta, pero sesgada. Si le preguntas a 100 expertos diversos y promedias sus respuestas, es muy probable que el resultado sea mucho más acertado y balanceado. Eso es un ensamble.</p>
                    </div>
                `
            },
             { // Slide 7
                title: "Random Forest (Bosque Aleatorio)",
                content: `
                    <p>Es el método de ensamble más popular y uno de los algoritmos más potentes en Machine Learning. Como su nombre indica, un <strong>Random Forest</strong> es un ensamble compuesto por cientos de árboles de decisión.</p>
                    <h3>¿Cómo funciona?</h3>
                    <ol>
                        <li>Toma una muestra aleatoria de los datos.</li>
                        <li>Toma una muestra aleatoria de las variables.</li>
                        <li>Construye un árbol de decisión con esas muestras.</li>
                        <li>Repite el proceso cientos de veces.</li>
                    </ol>
                    <p>Para hacer una predicción, cada árbol del bosque "vota" por una clase, y la clase con más votos es la predicción final del modelo. Esta aleatoriedad y promediación hace que sea muy resistente al sobreajuste.</p>
                `
            },
            { // Slide 8
                title: "Ventajas y Desventajas",
                content: `
                    <h3>Árbol de Decisión Individual</h3>
                    <ul>
                        <li><strong>Ventaja:</strong> Muy fácil de interpretar y visualizar (modelo de "caja blanca").</li>
                        <li><strong>Desventaja:</strong> Muy propenso al sobreajuste.</li>
                    </ul>
                    <h3>Random Forest</h3>
                    <ul>
                        <li><strong>Ventaja:</strong> Mucho más preciso y robusto contra el sobreajuste. Generalmente uno de los mejores modelos "listos para usar".</li>
                        <li><strong>Desventaja:</strong> Pierde la interpretabilidad. Es un modelo de "caja negra"; es muy difícil entender por qué tomó una decisión específica.</li>
                    </ul>
                    <p>La elección entre uno y otro a menudo depende de si se necesita más precisión o más interpretabilidad.</p>
                `
            },
            { // Slide 9
                title: "Aplicación en Chile: Predicción de Deserción Universitaria",
                content: `
                    <p>Imaginemos que la UTEM quiere predecir qué estudiantes están en alto riesgo de abandonar sus carreras para poder ofrecerles apoyo a tiempo.</p>
                    <div class="example-box">
                        <span class="example-box-title">Caso de Estudio</span>
                        <ul>
                            <li><strong>Árbol de Decisión:</strong> Se podría entrenar un árbol simple. El resultado podría ser una regla interpretable como: <strong>SI</strong> el estudiante tiene un promedio bajo 4.5 <strong>Y</strong> su asistencia es menor al 70%, <strong>ENTONCES</strong> está en alto riesgo. Esto es muy útil para que los directores de carrera entiendan el problema.</li>
                            <li><strong>Random Forest:</strong> Se podría entrenar un Random Forest que considere cientos de variables (notas, asistencia, situación socioeconómica, etc.). Sería mucho más preciso para identificar a los estudiantes en riesgo, pero no daría una regla simple y clara.</li>
                        </ul>
                    </div>
                `
            },
            { // Slide 10
                title: "Resumen y Próximos Pasos",
                content: `
                    <h3>Resumen de la Semana 6</h3>
                    <ul>
                        <li>Los <strong>Árboles de Decisión</strong> son modelos interpretables que funcionan con reglas de "si... entonces...".</li>
                        <li>Su principal debilidad es el <strong>sobreajuste</strong>, que combatimos con técnicas de <strong>regularización</strong> como limitar su profundidad.</li>
                        <li>Los <strong>Modelos de Ensamble</strong> como <strong>Random Forest</strong> combinan muchos árboles para crear un modelo más preciso y robusto, a costa de la interpretabilidad.</li>
                    </ul>
                    <h3>Próxima Semana: Introducción a Redes Neuronales</h3>
                    <p>Según el programa, hemos explorado los modelos clásicos. La próxima semana nos introduciremos a los fundamentos del <strong>Deep Learning</strong>, el campo que ha impulsado los mayores avances recientes en IA, comenzando por el concepto del Perceptrón.</p>
                `
            }
        ];

        // ==========================================================================
        // LÓGICA DEL SLIDER Y RENDERIZADO (NO REQUIERE CAMBIOS)
        // ==========================================================================
        function createContentSlide(slideData) {
            const slide = document.createElement('div');
            slide.className = 'slide';
            slide.innerHTML = `
                <div class="slide-content">
                    <h2>${slideData.title}</h2>
                    ${slideData.content}
                </div>
            `;
            return slide;
        }

        function initializeSlider() {
            const slidesContainer = document.querySelector('.slides-container');
            const prevBtn = document.getElementById('prevBtn'), nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;

            slidesContainer.innerHTML = '';

            week_slides_data.forEach(data => {
                slidesContainer.appendChild(createContentSlide(data));
            });
            
            const slides = document.querySelectorAll('.slide');
            
            const goToSlide = (index) => {
                slidesContainer.style.transform = `translateX(-${index * 100}%)`;
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlide = index;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === slides.length - 1;
            }
            
            prevBtn.addEventListener('click', () => { if (currentSlide > 0) goToSlide(currentSlide - 1); });
            nextBtn.addEventListener('click', () => { if (currentSlide < slides.length - 1) goToSlide(currentSlide + 1); });
            
            if (slides.length > 0) {
                 goToSlide(0);
            }
        }

        initializeSlider();
    });
    </script>
</body>
</html>